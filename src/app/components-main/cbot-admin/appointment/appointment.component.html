<!-- <div class="row col-md-12 col-xl-12 col-sm-12 col-lg-12 bg-breadcrumb pall-zero mall-zero">
    <div class="col-md-12 col-xl-12 col-sm-12 col-lg-12">
        <h5 class="disablecolor">Dashboard /
        <span class="pl-1 enablecolor"> Appointment </span></h5>              
    </div>
    
</div> -->
    
<div class="row col-md-12 col-sm-12 col-xl-12 col-lg-12 booking mall-zero pall-zero">            
    <div class="col-xl-1 col-sm-2 topwidth pall-zero">
        <button mat-raised-button [routerLink]="['/beautelabs/cbot-admin/bookingCreate']" class="bookingbtn mt-2"><mat-icon>add</mat-icon>New</button>  
    </div>
    <div class="col-xl-1 col-sm-2 topwidth">
        <button mat-button (click)="caltoggle()"><mat-icon>{{calicon}}</mat-icon>    </button>
    </div>
    <div class="col-xl-3 col-lg-3 col-sm-2 topwidth">
        <mat-form-field class="bookingstaff">
            <mat-label>Staff</mat-label>
            <mat-select>
                <mat-option value="today">All Staffs</mat-option>
                <mat-option value="today">Devi</mat-option>
                <mat-option value="last week">Ramya</mat-option>
                <mat-option value="last 15 days">Nithya</mat-option>
                <mat-option value="last month">Ashika</mat-option>
                <mat-option value="last month">Ravi</mat-option>
            </mat-select>
        </mat-form-field> 
    </div>
</div>
<div class="row col-md-12 col-sm-12 col-xl-12 col-lg-12 booking mall-zero pall-zero mt-1">      
    <div class='app-calendar' *ngIf="selIcon=='event'">            
            <div class="col-sm-12 col-lg-3 col-xl-3 mb-10">
                <mat-card>
                    <mat-card-content> 
                        <div class="dragservice" #externalEvents>
                            <h3>Services</h3>
                            <div class='fc-event fc-service-bleech'>Bleech - Divya</div>                        
                            <div class='fc-event fc-service-waxing'>Waxing - Nisha</div>
                            <div class='fc-event fc-service-bodypolish'>Body Polishing - Devi</div>                            
                            <div class='fc-event fc-service-facial'>Golden Facial - Nithya</div>
                            <div class='fc-event fc-service-haircut'>Haircut - Ravi</div>                           
                            <div class='fc-event fc-service-bleech'>Bleech - Nisha</div>
                            <!-- <div class='fc-event fc-service-haircut'>Haircut - Preethi</div>
                            <div class='fc-event fc-service-bodypolish'>Body Polishing - Usha</div>
                            <div class='fc-event fc-service-facial'>Golden Facial - Deepthi</div>
                            <div class='fc-event fc-service-haircut'>Haircut - Prakash</div> -->
                        </div>  
                    </mat-card-content>
                </mat-card>
            </div>
                <div class="col-sm-12 col-lg-9 col-xl-9 mb-10">
                    <mat-card>
                        <mat-card-content> 
                            <full-calendar
                                *ngIf="options" #calendar
                                #fullcalendar
                                defaultView="dayGridMonth"
                                [editable]="true"
                                [droppable] ="true"
                                [header]="options.header"
                                (dateClick)="handleDateClick($event)"
                                (eventDragStop)="eventDragStop($event)"
                                [plugins]="options.plugins"
                                (eventClick)="eventClick($event)"
                               
                                slotDuration='00:15:00'
                                slotMinutes= '00:15:00'
                                [events]="events"
                                [nowIndicator]= "true"                                
                                [aspectRatio] = '2'
                                [showNonCurrentDates] = "true">
                            </full-calendar>
                        </mat-card-content>
                    </mat-card>
                </div>

                <!-- alldayslot  - display month wise dragged services (unknown time)-->
                        
                <!-- <full-calendar color="success" #calendar
                    defaultView="dayGridMonth"
                    [header]="{
                    left: 'prev,today,next',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,resourceTimeGridDay'
                    }"
                    [resources]="resources"
                    [events]="events"
                    [nowIndicator]= "true"
                    [plugins]="calendarPlugins"
                    [weekends]="true"
                    [allDaySlot] = "false"
                    slotDuration='00:15:00'
                    [businessHours] ="businessHours"
                    slotMinutes= '00:15:00'
                    [aspectRatio] = '2'
                    [showNonCurrentDates] = "true"
                    (eventClick)="eventClick($event)"           
                    (dateClick)="handleDateClick($event)">
                </full-calendar> -->
        <!-- [filterResourcesWithEvents] = true  show only resources who have booking-->   
    </div>    
        
    <div *ngIf="selIcon=='list'" class="full-width">
        <mat-card>
            <mat-card-content>
                    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8" matSort class="table-striped">
                        <ng-container matColumnDef="sno">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
                            <td mat-cell *matCellDef="let element"> {{element.sno}} </td>
                        </ng-container>
                        
                        <ng-container matColumnDef="name">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Customer </th>
                            <td mat-cell *matCellDef="let element" matTooltip="{{element.name}}"> {{ (element.name.length>10)? (element.name | slice:0:10)+'..':(element.name) }}</td>
                        </ng-container>                
                        
                        <ng-container matColumnDef="mobile">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Mobile </th>
                            <td mat-cell *matCellDef="let element"> {{element.mobile}} </td>
                        </ng-container>
                    
                        <ng-container matColumnDef="serviceName">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Service </th>
                            <td mat-cell *matCellDef="let element" matTooltip="{{element.serviceName}}"> {{ (element.serviceName.length>10)? (element.serviceName | slice:0:10)+'..':(element.serviceName) }} </td>
                        </ng-container>
                        <ng-container matColumnDef="staffName">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Staff </th>
                            <td mat-cell *matCellDef="let element"> {{element.staffName}} </td>
                        </ng-container>
                        <ng-container matColumnDef="startTime">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Time </th>
                            <td mat-cell *matCellDef="let element"> {{element.startTime}} </td>
                        </ng-container>
                        <ng-container matColumnDef="serviceDuration">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Duration (Hrs) </th>
                            <td mat-cell *matCellDef="let element"> {{element.serviceDuration}} </td>
                        </ng-container>
                        <ng-container matColumnDef="servicePrice">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Price (â‚¹) </th>
                            <td mat-cell *matCellDef="let element"> {{element.servicePrice}} </td>
                        </ng-container>
                        <ng-container matColumnDef="status">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                            <td mat-cell *matCellDef="let element"> {{element.status}} </td>
                        </ng-container>
                        <ng-container matColumnDef="source">
                            <th mat-header-cell *matHeaderCellDef mat-sort-header> Source </th>
                            <td mat-cell *matCellDef="let element"> {{element.source}} </td>
                        </ng-container>
                            
                        <ng-container matColumnDef="action">
                            <th mat-header-cell *matHeaderCellDef>Action</th>
                            <td mat-cell *matCellDef="let element">
                                <mat-icon color="primary" matTooltip="Edit">edit</mat-icon>
                                <mat-icon color="primary" matTooltip="Proceed Billing">receipt</mat-icon>
                            </td>
                        </ng-container>
                        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                    </table>  
                    <mat-toolbar class="bg-light">
                        <mat-toolbar-row>
                            <span class="example-spacer "></span>
                            <mat-paginator [pageSizeOptions]="[10, 25, 50, 100]" class="paginator"></mat-paginator> 
                        </mat-toolbar-row>
                    </mat-toolbar>
            </mat-card-content>
        </mat-card>
        
    </div>     
</div>

<div class="modal bookingmodel" id="myModal" [style.display]="showModal ? 'block' : 'none'">
    <div class="modal-dialog">            
        <div class="modal-content">   
            <div class="modal-header">
                <h5 class="modal-title"> 
                    Meera (9632587412)
                    <span class="pl-7">  meera4512@gmail.com </span>
                    <span class="fr"> <mat-icon (click)="hide()" class="warn">close</mat-icon> </span>
                </h5>
            </div>
            <!-- <button type="button" class="close" data-dismiss="modal" (click) = "hide()">&times;</button> -->        
            <div class="modal-body">                
                <div class="row col-md-12 col-xl-12 col-sm-12 col-lg-12 pall-zero mall-zero">
                    <h4>Services</h4>
                    <table class="full-width table table-bordered table-responsive wraptbl">
                        <tr>
                            <th>Service</th>
                            <th>Start Time</th>
                            <th>End Time</th>
                            <th>Staff</th>                    
                        </tr>
                        <tr>
                            <td>{{serviceTitle}}</td>
                            <td>{{startTime}}</td>
                            <td></td>
                            <td></td>
                        </tr>
                    </table>
                </div>
                <div class="row col-md-12 col-xl-12 col-sm-12 col-lg-12 pall-zero mall-zero">
                    <div class="col-md-3 col-xl-4 col-lg-4 col-sm-12 pall-zero">
                        <h4>Source : Walk-in</h4>
                    </div>
                    <div class="col-md-3 col-xl-4 col-lg-4 col-sm-12 pall-zero">
                        <h4>Booked By : User</h4>
                    </div>
                    <div class="col-md-5 col-xl-4 col-lg-4 col-sm-12 pall-zero">
                        <h4>Booked Time : 10:00AM</h4>
                    </div>

                </div>      
                <div class="row col-md-12 col-xl-12 col-sm-12 col-lg-12 pall-zero mall-zero">
                    <h4>Booking Notes :</h4>
                </div>          
                <div class="row col-md-12 col-xl-12 col-sm-12 col-lg-12 pall-zero mall-zero">
                    <h4 class="bookingStatus">Booking Status </h4>
                    <mat-form-field>
                            <mat-select [value]="bookingStatus">
                                <mat-option *ngFor="let statusList of status" [value]="statusList.value">
                                {{statusList.viewValue}}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>                     
                </div>   
            </div>
        
        <!-- Modal footer -->
            <div class="modal-footer billFooter">
                <button mat-raised-button class="bookingcancelbtn ml-2" (click)="cancelBooking(eventId)">Cancel Appointment</button>  
                <button mat-raised-button class="startBillbtn ml-2" (click)="startBill(eventId)">Start Bill</button>  
                <button mat-raised-button class="startBillbtn ml-2">Edit</button>
                <!-- <button mat-raised-button class="bookingcancelbtn ml-2" data-dismiss="modal" (click)="hide()">Close</button> -->
            </div>
        
        </div>
    </div>
</div>

    